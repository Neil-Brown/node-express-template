doctype html
html(lang="en")
	head
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		meta( name="Description" content="Node js and Express template")
		title Node Template
		block css
			link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous")
			link(rel="stylesheet" href = "/css/styles.css")

	body
			block header
			block main
	block scripts
		script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous")
		script(nonce=nonce).
			document.addEventListener("DOMContentLoaded", function() {
				var testElement = document.createElement('div');
				testElement.className = 'container'; // Bootstrap class
				document.body.appendChild(testElement);

				// Get computed styles to check if Bootstrap is applied
				var computedStyle = window.getComputedStyle(testElement);
				var isBootstrapLoaded = computedStyle.getPropertyValue('padding-left') !== '0px' &&
				computedStyle.getPropertyValue('padding-right') !== '0px' &&
				computedStyle.getPropertyValue('width') !== 'auto';  // Checking width property


				// Remove test element
				document.body.removeChild(testElement);

				// If Bootstrap is not loaded, load local fallback CSS
				if (!isBootstrapLoaded) {
					var fallbackCss = document.createElement('link');
					fallbackCss.rel = 'stylesheet';
					fallbackCss.href = '/css/bootstrap-local.css'; // Path to your local CSS file
					document.head.appendChild(fallbackCss);
					console.warn('CDN failed to load. Using local Bootstrap CSS fallback.');
				}

				if (typeof window.bootstrap === 'undefined') {
					var fallbackJs = document.createElement('script');
					fallbackJs.src = '/js/bootstrap-local.js'; // Path to your local JS file
					document.body.appendChild(fallbackJs);
					console.warn('CDN JS failed to load. Using local Bootstrap JS fallback.');
				  } else {
					console.log('Bootstrap JS loaded successfully from CDN.');
				  }

			});

